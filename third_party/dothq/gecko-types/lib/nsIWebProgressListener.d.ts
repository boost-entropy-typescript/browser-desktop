/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

import { nsIRequest } from "./nsIRequest";
import { nsIURI } from "./nsIURI";
import { nsIWebProgress } from "./nsIWebProgress";

export interface nsIWebProgressListener {
	STATE_START: 0x00000001;
	STATE_REDIRECTING: 0x00000002;
	STATE_TRANSFERRING: 0x00000004;
	STATE_NEGOTIATING: 0x00000008;
	STATE_STOP: 0x00000010;
	STATE_IS_REQUEST: 0x00010000;
	STATE_IS_DOCUMENT: 0x00020000;
	STATE_IS_NETWORK: 0x00040000;
	STATE_IS_WINDOW: 0x00080000;
	STATE_IS_REDIRECTED_DOCUMENT: 0x00100000;
	STATE_RESTORING: 0x01000000;
	STATE_IS_INSECURE: 0x00000004;
	STATE_IS_BROKEN: 0x00000001;
	STATE_IS_SECURE: 0x00000002;
	STATE_BLOCKED_MIXED_ACTIVE_CONTENT: 0x00000010;
	STATE_LOADED_MIXED_ACTIVE_CONTENT: 0x00000020;
	STATE_BLOCKED_MIXED_DISPLAY_CONTENT: 0x00000100;
	STATE_LOADED_MIXED_DISPLAY_CONTENT: 0x00000200;
	STATE_IDENTITY_EV_TOPLEVEL: 0x00100000;
	STATE_USES_SSL_3: 0x01000000;
	STATE_USES_WEAK_CRYPTO: 0x02000000;
	STATE_CERT_USER_OVERRIDDEN: 0x04000000;
	STATE_BLOCKED_TRACKING_CONTENT: 0x00001000;
	STATE_LOADED_LEVEL_1_TRACKING_CONTENT: 0x00002000;
	STATE_LOADED_LEVEL_2_TRACKING_CONTENT: 0x00100000;
	STATE_BLOCKED_FINGERPRINTING_CONTENT: 0x00000040;
	STATE_LOADED_FINGERPRINTING_CONTENT: 0x00000400;
	STATE_BLOCKED_CRYPTOMINING_CONTENT: 0x00000800;
	STATE_LOADED_CRYPTOMINING_CONTENT: 0x00200000;
	STATE_BLOCKED_UNSAFE_CONTENT: 0x00004000;
	STATE_COOKIES_LOADED: 0x00008000;
	STATE_COOKIES_LOADED_TRACKER: 0x00040000;
	STATE_COOKIES_LOADED_SOCIALTRACKER: 0x00080000;
	STATE_COOKIES_BLOCKED_BY_PERMISSION: 0x10000000;
	STATE_COOKIES_BLOCKED_TRACKER: 0x20000000;
	STATE_COOKIES_BLOCKED_SOCIALTRACKER: 0x01000000;
	STATE_COOKIES_BLOCKED_ALL: 0x40000000;
	STATE_COOKIES_PARTITIONED_FOREIGN: 0x80000000;
	STATE_COOKIES_BLOCKED_FOREIGN: 0x00000080;
	STATE_BLOCKED_SOCIALTRACKING_CONTENT: 0x00010000;
	STATE_LOADED_SOCIALTRACKING_CONTENT: 0x00020000;
	STATE_REPLACED_TRACKING_CONTENT: 0x00000010;
	STATE_ALLOWED_TRACKING_CONTENT: 0x00000020;
	STATE_BLOCKED_EMAILTRACKING_CONTENT: 0x00400000;
	STATE_LOADED_EMAILTRACKING_LEVEL_1_CONTENT: 0x00800000;
	STATE_LOADED_EMAILTRACKING_LEVEL_2_CONTENT: 0x00000100;
	STATE_HTTPS_ONLY_MODE_UPGRADED: 0x00400000;
	STATE_HTTPS_ONLY_MODE_UPGRADE_FAILED: 0x00800000;

	LOCATION_CHANGE_SAME_DOCUMENT: 0x00000001;
	LOCATION_CHANGE_ERROR_PAGE: 0x00000002;
	LOCATION_CHANGE_RELOAD: 0x00000004;
	LOCATION_CHANGE_HASHCHANGE: 0x00000008;
	LOCATION_CHANGE_SESSION_STORE: 0x00000010;

	onStateChange(
		webProgress: nsIWebProgress,
		request: nsIRequest,
		stateFlags: number,
		status: number
	): void;

	onProgressChange(
		webProgress: nsIWebProgress,
		request: nsIRequest,
		curSelfProgress: number,
		maxSelfProgress: number,
		curTotalProgress: number,
		maxTotalProgress: number
	): void;

	onLocationChange(
		webProgress: nsIWebProgress,
		request: nsIRequest,
		location: nsIURI,
		flags?: number,
		...rest: any
	): void;

	onStatusChange(
		webProgress: nsIWebProgress,
		request: nsIRequest,
		status: number,
		message: string
	): void;

	onSecurityChange(
		webProgress: nsIWebProgress,
		request: nsIRequest,
		state: number,
		...rest: any
	): void;

	onContentBlockingEvent(
		webProgress: nsIWebProgress,
		request: nsIRequest,
		event: number,
		...rest: any
	): void;
}
