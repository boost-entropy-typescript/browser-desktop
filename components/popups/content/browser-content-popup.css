/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

browser-content-popup {
    display: flex;

    width: min(var(--popup-content-width), calc(var(--modal-box-width) - 100px));
    height: min(var(--popup-content-height), calc(var(--modal-box-height) - 100px));
    min-width: 200px;
    min-height: 200px;

    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%) scale(var(--popup-scale, 0.75));

    background-color: var(--arrowpanel-background);

    border-radius: 0.8rem;

    pointer-events: auto;

    margin-block-start: -1rem;

    opacity: 0;

    transition: 0.2s transform, 0.3s opacity;
}

browser-content-popup::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;

    width: 100%;
    height: 100%;

    border-radius: 0.8rem;

    box-shadow: 0 25.6px 57.6px 0 rgba(0, 0, 0, .22), 0 4.8px 14.4px 0 rgba(0, 0, 0, .18);

    pointer-events: none;
}

browser-content-popup[hidden] {
    display: none;
    visibility: hidden;
}

browser-content-popup .browser-content-popup-frame {
    width: 100%;
    height: 100%;

    /* The browser contents will clip through our border-radius, so this is used as a hack to enforce the corners */
    clip-path: inset(0 0 0 0 round 0.8rem 0.8rem 0.8rem 0.8rem);
}

browser-content-popup:not([hidden]) {
    --popup-scale: 1;
    opacity: 1;
}